function OpenCall(e){e.addClass("active").attr("data-call-open","1"),$(".call-content").addClass("active"),setTimeout(function(){$(".call-btn-txt").addClass("active")},300)}function CloseCall(){$('#msgName').val('');$('#msgPhone').val('');$(".call-btn-txt").removeClass("active"),$(".call-content").removeClass("active"),setTimeout(function(){$(".call-ico").removeClass("active")},300)}function initMap(){function e(e){for(var t=0,a=e.routes[0],n=0;n<a.legs.length;n++)t+=a.legs[n].distance.value;t/=1e3,console.log(t+" км");var s=new google.maps.InfoWindow({map:i});s.setPosition(r),s.setContent(t+" км<br />до Києва")}function t(){var e={origin:p,destination:c,travelMode:"DRIVING"};n.route(e,function(e,t){t==google.maps.DirectionsStatus.OK&&a.setDirections(e),new google.maps.Marker({position:s,map:i,icon:"/img/markerUser.png",title:"Это Вы"}),new google.maps.Marker({position:o,map:i,icon:"/img/markerSeverynivka.png",title:"Севериновка"})})}var a,n,i,s={lat:!1,lng:!1},o={lat:50.3971129,lng:29.9776504},r={lat:50.4474833,lng:30.2409454},l=new google.maps.LatLng(r),p=l,c=new google.maps.LatLng(o);console.log(s),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){s={lat:e.coords.latitude,lng:e.coords.longitude}}):alert("Ваш браузер не поддерживает геолокацию"),0!=s.lat?(p=new google.maps.LatLng(s),document.querySelector("#gmapLink").href="https://www.google.com.ua/maps/dir/"+s.lat+","+s.lng+"/Коттеджный+городок+Севериновка,+Киевская+область"):p=new google.maps.LatLng(r),console.log(s),function(){var s={zoom:11,center:p,gestureHandling:"cooperative",mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER,style:google.maps.ZoomControlStyle.LARGE},fullscreenControl:!1,streetViewControl:!1};i=new google.maps.Map(document.getElementById("map"),s),n=new google.maps.DirectionsService,a=new google.maps.DirectionsRenderer({draggable:!0,map:i,suppressMarkers:!0}),a.addListener("directions_changed",function(){e(a.getDirections())}),t()}()}!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(a){return t(e,a)}):"object"==typeof exports?t(e,require("jquery")):t(e,e.jQuery)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function a(e,t){for(var a=e.length;--a;)if(Math.round(+e[a])!==Math.round(+t[a]))return!1;return!0}function n(e){var a={range:!0,animate:!0};return"boolean"==typeof e?a.animate=e:t.extend(a,e),a}function i(e,a,n,i,s,o,r,l,p){"array"===t.type(e)?this.elements=[+e[0],+e[2],+e[4],+e[1],+e[3],+e[5],0,0,1]:this.elements=[e,a,n,i,s,o,r||0,l||0,p||1]}function s(e,t,a){this.elements=[e,t,a]}function o(e,a){if(!(this instanceof o))return new o(e,a);1!==e.nodeType&&t.error("Panzoom called on non-Element node"),t.contains(r,e)||t.error("Panzoom element must be attached to the document");var n=t.data(e,l);if(n)return n;this.options=a=t.extend({},o.defaults,a),this.elem=e;var i=this.$elem=t(e);this.$set=a.$set&&a.$set.length?a.$set:i,this.$doc=t(e.ownerDocument||r),this.$parent=i.parent(),this.parent=this.$parent[0],this.isSVG=h.test(e.namespaceURI)&&"svg"!==e.nodeName.toLowerCase(),this.panning=!1,this._buildTransform(),this._transform=t.cssProps.transform.replace(m,"-$1").toLowerCase(),this._buildTransition(),this.resetDimensions();var s=t(),p=this;t.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(e,t){p[t]=a[t]||s}),this.enable(),this.scale=this.getMatrix()[0],this._checkPanWhenZoomed(),t.data(e,l,this)}var r=e.document,l="__pz__",p=Array.prototype.slice,c=/trident\/7./i,d=function(){if(c.test(navigator.userAgent))return!1;var e=r.createElement("input");return e.setAttribute("oninput","return"),"function"==typeof e.oninput}(),m=/([A-Z])/g,h=/^http:[\w\.\/]+svg$/,u="(\\-?\\d[\\d\\.e-]*)",g="\\,?\\s*",f=new RegExp("^matrix\\("+u+g+u+g+u+g+u+g+u+g+u+"\\)$");return i.prototype={x:function(e){var t=e instanceof s,a=this.elements,n=e.elements;return t&&3===n.length?new s(a[0]*n[0]+a[1]*n[1]+a[2]*n[2],a[3]*n[0]+a[4]*n[1]+a[5]*n[2],a[6]*n[0]+a[7]*n[1]+a[8]*n[2]):n.length===a.length&&new i(a[0]*n[0]+a[1]*n[3]+a[2]*n[6],a[0]*n[1]+a[1]*n[4]+a[2]*n[7],a[0]*n[2]+a[1]*n[5]+a[2]*n[8],a[3]*n[0]+a[4]*n[3]+a[5]*n[6],a[3]*n[1]+a[4]*n[4]+a[5]*n[7],a[3]*n[2]+a[4]*n[5]+a[5]*n[8],a[6]*n[0]+a[7]*n[3]+a[8]*n[6],a[6]*n[1]+a[7]*n[4]+a[8]*n[7],a[6]*n[2]+a[7]*n[5]+a[8]*n[8])},inverse:function(){var e=1/this.determinant(),t=this.elements;return new i(e*(t[8]*t[4]-t[7]*t[5]),e*-(t[8]*t[1]-t[7]*t[2]),e*(t[5]*t[1]-t[4]*t[2]),e*-(t[8]*t[3]-t[6]*t[5]),e*(t[8]*t[0]-t[6]*t[2]),e*-(t[5]*t[0]-t[3]*t[2]),e*(t[7]*t[3]-t[6]*t[4]),e*-(t[7]*t[0]-t[6]*t[1]),e*(t[4]*t[0]-t[3]*t[1]))},determinant:function(){var e=this.elements;return e[0]*(e[8]*e[4]-e[7]*e[5])-e[3]*(e[8]*e[1]-e[7]*e[2])+e[6]*(e[5]*e[1]-e[4]*e[2])}},s.prototype.e=i.prototype.e=function(e){return this.elements[e]},o.rmatrix=f,o.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,which:1,increment:.3,linearZoom:!1,panOnlyWhenZoomed:!1,minScale:.3,maxScale:6,rangeStep:.05,duration:200,easing:"ease-in-out",contain:!1},o.prototype={constructor:o,instance:function(){return this},enable:function(){this._initStyle(),this._bind(),this.disabled=!1},disable:function(){this.disabled=!0,this._resetStyle(),this._unbind()},isDisabled:function(){return this.disabled},destroy:function(){this.disable(),t.removeData(this.elem,l)},resetDimensions:function(){this.container=this.parent.getBoundingClientRect();var e=this.elem,a=e.getBoundingClientRect(),n=Math.abs(this.scale);this.dimensions={width:a.width,height:a.height,left:t.css(e,"left",!0)||0,top:t.css(e,"top",!0)||0,border:{top:t.css(e,"borderTopWidth",!0)*n||0,bottom:t.css(e,"borderBottomWidth",!0)*n||0,left:t.css(e,"borderLeftWidth",!0)*n||0,right:t.css(e,"borderRightWidth",!0)*n||0},margin:{top:t.css(e,"marginTop",!0)*n||0,left:t.css(e,"marginLeft",!0)*n||0}}},reset:function(e){e=n(e);var t=this.setMatrix(this._origTransform,e);e.silent||this._trigger("reset",t)},resetZoom:function(e){e=n(e);var t=this.getMatrix(this._origTransform);e.dValue=t[3],this.zoom(t[0],e)},resetPan:function(e){var t=this.getMatrix(this._origTransform);this.pan(t[4],t[5],n(e))},setTransform:function(e){for(var a=this.$set,n=a.length;n--;)t.style(a[n],"transform",e),this.isSVG&&a[n].setAttribute("transform",e)},getTransform:function(e){var a=this.$set,n=a[0];return e?this.setTransform(e):(e=t.style(n,"transform"),!this.isSVG||e&&"none"!==e||(e=t.attr(n,"transform")||"none")),"none"===e||f.test(e)||this.setTransform(e=t.css(n,"transform")),e||"none"},getMatrix:function(e){var t=f.exec(e||this.getTransform());return t&&t.shift(),t||[1,0,0,1,0,0]},getScale:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},setMatrix:function(e,a){if(!this.disabled){a||(a={}),"string"==typeof e&&(e=this.getMatrix(e));var n=this.getScale(e),i=void 0!==a.contain?a.contain:this.options.contain;if(i){var s=a.dims;s||(this.resetDimensions(),s=this.dimensions);var o,r,l,p=this.container,c=s.width,d=s.height,m=p.width,h=p.height,u=m/c,g=h/d;"center"!==this.$parent.css("textAlign")||"inline"!==t.css(this.elem,"display")?(l=(c-this.elem.offsetWidth)/2,o=l-s.border.left,r=c-m-l+s.border.right):o=r=(c-m)/2;var f=(d-h)/2+s.border.top,v=(d-h)/2-s.border.top-s.border.bottom;e[4]="invert"===i||"automatic"===i&&u<1.01?Math.max(Math.min(e[4],o-s.border.left),-r):Math.min(Math.max(e[4],o),-r),e[5]="invert"===i||"automatic"===i&&g<1.01?Math.max(Math.min(e[5],f-s.border.top),-v):Math.min(Math.max(e[5],f),-v)}if("skip"!==a.animate&&this.transition(!a.animate),a.range&&this.$zoomRange.val(n),this.options.disableXAxis||this.options.disableYAxis){var $=this.getMatrix();this.options.disableXAxis&&(e[4]=$[4]),this.options.disableYAxis&&(e[5]=$[5])}return this.setTransform("matrix("+e.join(",")+")"),this.scale=n,this._checkPanWhenZoomed(n),a.silent||this._trigger("change",e),e}},isPanning:function(){return this.panning},transition:function(e){if(this._transition)for(var a=e||!this.options.transition?"none":this._transition,n=this.$set,i=n.length;i--;)t.style(n[i],"transition")!==a&&t.style(n[i],"transition",a)},pan:function(e,t,a){if(!this.options.disablePan){a||(a={});var n=a.matrix;n||(n=this.getMatrix()),a.relative&&(e+=+n[4],t+=+n[5]),n[4]=e,n[5]=t,this.setMatrix(n,a),a.silent||this._trigger("pan",n[4],n[5])}},zoom:function(e,a){"object"==typeof e?(a=e,e=null):a||(a={});var n=t.extend({},this.options,a);if(!n.disableZoom){var o=!1,r=n.matrix||this.getMatrix(),l=new i(r),p=this.getScale(r);"number"!=typeof e?(e=n.linearZoom?1+n.increment*(e?-1:1)/p:e?1/(1+n.increment):1+n.increment,o=!0):e=1/p,e=Math.max(Math.min(e,n.maxScale/p),n.minScale/p);var c=l.x(new i(e,0,0,0,"number"==typeof n.dValue?n.dValue/p:e,0)),d=n.focal;if(d&&!n.disablePan){this.resetDimensions();var m=n.dims=this.dimensions,h=d.clientX,u=d.clientY;this.isSVG||(h-=m.width/p/2,u-=m.height/p/2);var g=new s(h,u,1),f=this.parentOffset||this.$parent.offset(),v=new i(1,0,f.left-this.$doc.scrollLeft(),0,1,f.top-this.$doc.scrollTop()),$=l.inverse().x(v.inverse().x(g));l=l.x(new i([e,0,0,e,0,0])),g=v.x(l.x($)),r[4]=+r[4]+(h-g.e(0)),r[5]=+r[5]+(u-g.e(1))}r[0]=c.e(0),r[1]=c.e(3),r[2]=c.e(1),r[3]=c.e(4),this.setMatrix(r,{animate:void 0!==n.animate?n.animate:o,range:!n.noSetRange}),n.silent||this._trigger("zoom",e,n)}},option:function(e,a){var n;if(!e)return t.extend({},this.options);if("string"==typeof e){if(1===arguments.length)return void 0!==this.options[e]?this.options[e]:null;n={},n[e]=a}else n=e;this._setOptions(n)},_setOptions:function(e){t.each(e,t.proxy(function(e,a){switch(e){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind()}switch(this.options[e]=a,e){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[e]=a;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":t.style(this.elem,"cursor",a);break;case"minScale":this.$zoomRange.attr("min",a);break;case"maxScale":this.$zoomRange.attr("max",a);break;case"rangeStep":this.$zoomRange.attr("step",a);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"panOnlyWhenZoomed":this._checkPanWhenZoomed();break;case"$set":a instanceof t&&a.length&&(this.$set=a,this._initStyle(),this._buildTransform())}},this))},_checkPanWhenZoomed:function(e){var t=this.options;if(t.panOnlyWhenZoomed){e||(e=this.getMatrix()[0]);var a=e<=t.minScale;t.disablePan!==a&&this.option("disablePan",a)}},_initStyle:function(){var e={"transform-origin":this.isSVG?"0 0":"50% 50%"};this.options.disablePan||(e.cursor=this.options.cursor),this.$set.css(e);var a=this.$parent;a.length&&!t.nodeName(this.parent,"body")&&(e={overflow:"hidden"},"static"===a.css("position")&&(e.position="relative"),a.css(e))},_resetStyle:function(){this.$elem.css({cursor:"",transition:""}),this.$parent.css({overflow:"",position:""})},_bind:function(){var e=this,a=this.options,n=a.eventNamespace,i="mousedown"+n+" pointerdown"+n+" MSPointerDown"+n,s="touchstart"+n+" "+i,r="touchend"+n+" click"+n+" pointerup"+n+" MSPointerUp"+n,l={},p=this.$reset,c=this.$zoomRange;if(t.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var e=a["on"+this];t.isFunction(e)&&(l["panzoom"+this.toLowerCase()+n]=e)}),a.disablePan&&a.disableZoom||(l[s]=function(t){var n;("touchstart"===t.type?!(n=t.touches||t.originalEvent.touches)||(1!==n.length||a.disablePan)&&2!==n.length:a.disablePan||(t.which||t.originalEvent.which)!==a.which)||(t.preventDefault(),t.stopPropagation(),e._startMove(t,n))},3===a.which&&(l.contextmenu=!1)),this.$elem.on(l),p.length&&p.on(r,function(t){t.preventDefault(),e.reset()}),c.length&&c.attr({step:a.rangeStep===o.defaults.rangeStep&&c.attr("step")||a.rangeStep,min:a.minScale,max:a.maxScale}).prop({value:this.getMatrix()[0]}),!a.disableZoom){var m=this.$zoomIn,h=this.$zoomOut;m.length&&h.length&&(m.on(r,function(t){t.preventDefault(),e.zoom()}),h.on(r,function(t){t.preventDefault(),e.zoom(!0)})),c.length&&(l={},l[i]=function(){e.transition(!0)},l[(d?"input":"change")+n]=function(){e.zoom(+this.value,{noSetRange:!0})},c.on(l))}},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace)},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform)},_buildTransition:function(){if(this._transform){var e=this.options;this._transition=this._transform+" "+e.duration+"ms "+e.easing}},_getDistance:function(e){var t=e[0],a=e[1];return Math.sqrt(Math.pow(Math.abs(a.clientX-t.clientX),2)+Math.pow(Math.abs(a.clientY-t.clientY),2))},_getMiddle:function(e){var t=e[0],a=e[1];return{clientX:(a.clientX-t.clientX)/2+t.clientX,clientY:(a.clientY-t.clientY)/2+t.clientY}},_trigger:function(e){"string"==typeof e&&(e="panzoom"+e),this.$elem.triggerHandler(e,[this].concat(p.call(arguments,1)))},_startMove:function(e,n){if(!this.panning){var i,s,o,l,p,c,d,m,h=this,u=this.options,g=u.eventNamespace,f=this.getMatrix(),v=f.slice(0),$=+v[4],y=+v[5],b={matrix:f,animate:"skip"},w=e.type;"pointerdown"===w?(i="pointermove",s="pointerup"):"touchstart"===w?(i="touchmove",s="touchend"):"MSPointerDown"===w?(i="MSPointerMove",s="MSPointerUp"):(i="mousemove",s="mouseup"),i+=g,s+=g,this.transition(!0),this.panning=!0,this._trigger("start",e,n);var C=function(e,t){if(t){if(2===t.length){if(null!=o)return;return o=h._getDistance(t),l=h.getScale(f),void(p=h._getMiddle(t))}if(null!=c)return;(m=t[0])&&(c=m.pageX,d=m.pageY)}null==c&&(c=e.pageX,d=e.pageY)};C(e,n);var _=function(e){var t;if(e.preventDefault(),n=e.touches||e.originalEvent.touches,C(e,n),n){if(2===n.length){var a=h._getMiddle(n),i=h._getDistance(n)-o;return h.zoom(i*(u.increment/100)+l,{focal:a,matrix:f,animate:"skip"}),h.pan(+f[4]+a.clientX-p.clientX,+f[5]+a.clientY-p.clientY,b),void(p=a)}t=n[0]||{pageX:0,pageY:0}}t||(t=e),h.pan($+t.pageX-c,y+t.pageY-d,b)};t(r).off(g).on(i,_).on(s,function(e){e.preventDefault(),t(this).off(g),h.panning=!1,e.type="panzoomend",h._trigger(e,f,!a(f,v))})}}},t.Panzoom=o,t.fn.panzoom=function(e){var a,n,i,s;return"string"==typeof e?(s=[],n=p.call(arguments,1),this.each(function(){a=t.data(this,l),a?"_"!==e.charAt(0)&&"function"==typeof(i=a[e])&&void 0!==(i=i.apply(a,n))&&s.push(i):s.push(void 0)}),s.length?1===s.length?s[0]:s:this):this.each(function(){new o(this,e)})},o}),$(".menu-item").not(".lang").on("mouseenter",function(){$(this).addClass("active-menu-item"),$(".menu-item").not(this).css("opacity",".55")}).on("mouseleave",function(){$(".menu-item").removeClass("active-menu-item"),$(".menu-item").css("opacity","")}),$('.menu-item a[href^="#"]').on("click.smoothscroll",function(e){e.preventDefault();var t=this.hash,a=$(t);$("html, body").animate({scrollTop:a.offset().top},500,"swing",function(){window.location.hash=t})}),$(".current-lang").on("click",function(e){$(".current-lang").toggleClass("lang-active "),$(".lang-toggle").toggleClass("toggle-active")}),$(document).on("click",function(e){!$(e.target).closest(".lang").length&&$(".current-lang").hasClass("lang-active")&&($(".current-lang").removeClass("lang-active"),$(".lang-toggle").removeClass("toggle-active"))});var build_type_swiper=new Swiper(".build-type",{slidesPerView:3,nextButton:".next-slide",prevButton:".prev-slide",onSlideChangeStart:function(){$(".swiper-slide-next").addClass("active-color")},onInit:function(){$(".swiper-slide-next").addClass("active-color")},breakpoints:{1259:{slidesPerView:2},639:{slidesPerView:1}}});$.ajax({dataType:"json",url:"json/types-data.json",success:function(e){for(var t=0;e.length>t;t++)build_type_swiper.appendSlide(['<div class="swiper-slide" data-type-build-swiper="'+e[t].type+'"><div class="slide-content" data-type-build="'+e[t].type+'"><div class="slide-img-wrap"><img src="'+e[t].type_src+'" alt="build-type"></div><div class="slide-text">'+e[t].type_txt+"</div></div></div>"]),build_type_swiper_popup.appendSlide(['<div class="swiper-slide" data-type-build-swiper="'+e[t].type+'"><div class="slide-content" data-type-build="'+e[t].type+'"><div class="slide-img-wrap"><img src="'+e[t].type_src+'" alt="build-type"></div><div class="slide-text">'+e[t].type_txt+"</div></div></div>"])}});var build_type_swiper_popup=new Swiper(".build-type-popup-swiper",{slidesPerView:1,nextButton:".next-popup-slide",prevButton:".prev-popup-slide",keyboardControl:!0,onSlideChangeStart:function(e){$(".swiper-slide-next").addClass("active-color");var t=e.activeIndex;$.ajax({dataType:"json",url:"json/types-data.json",success:function(e){$(".swiper-slide-next").addClass("active-color"),$(".type-popup-details").html(""),$(".type-popup-right").find(".type-popup-img-1").attr("src",""),$(".type-popup-right").find(".type-popup-img-2").attr("src",""),$(".type-popup-details").append(e[t].details),$(".type-popup-right").find(".type-popup-img-1").attr("src",e[t].scheme_1_src),$(".type-popup-right").find(".type-popup-img-2").attr("src",e[t].scheme_2_src)}})},onInit:function(){$(".swiper-slide-next").addClass("active-color")},breakpoints:{1259:{slidesPerView:1},639:{slidesPerView:1}}});$(".build-type").on("click",".slide-content",function(){$(".type-popup-details").html(""),$(".type-popup-right").find(".type-popup-img-1").attr("src",""),$(".type-popup-right").find(".type-popup-img-2").attr("src","");var e=$(this).attr("data-type-build");$.ajax({dataType:"json",url:"json/types-data.json",success:function(t){build_type_swiper_popup.slideTo($(".build-type-popup-swiper").find(".swiper-slide").filter('[data-type-build-swiper="'+e+'"]').index(),1),$(".type-popup-details").append(t[e].details),$(".type-popup-right").find(".type-popup-img-1").attr("src",t[e].scheme_1_src),$(".type-popup-right").find(".type-popup-img-2").attr("src",t[e].scheme_2_src)}}),$(".type-popup").addClass("show-type-popup"),$(".type-popup-wrapper").addClass("show-type-popup-wrapper"),$("html, body").addClass("hidden-oflw")}),$(document).keyup(function(e){27==e.keyCode&&$(".type-popup-wrapper").hasClass("show-type-popup-wrapper")&&!$(".type-popup-img-wrapper").hasClass("active")&&($(".type-popup").removeClass("show-type-popup"),$(".type-popup-wrapper").removeClass("show-type-popup-wrapper"),$("html, body").removeClass("hidden-oflw")),27==e.keyCode&&$(".type-popup-img-wrapper").hasClass("active")&&$(".type-popup-img-wrapper").removeClass("active")}),$(".type-popup-close").on("click",function(){$(".type-popup").removeClass("show-type-popup"),$(".type-popup-wrapper").removeClass("show-type-popup-wrapper"),$("html, body").removeClass("hidden-oflw"),$(".type-popup-details").html(""),$(".type-popup-right").find(".type-popup-img-1").attr("src",""),$(".type-popup-right").find(".type-popup-img-2").attr("src","")}),$(".type-popup-img-wrapper").on("click",function(){$(this).toggleClass("active")}),$(".call-ico").on("click",function(){OpenCall($(this))}),$(".call-close").on("click",function(){CloseCall()}),$(document).on("scroll",function(){$(document).scrollTop()>$(".s8").offset().top-$(window).height()+$(".s8").height()&&1!=$(".call-ico").attr("data-call-open")&&window.matchMedia("(min-width: 640px)").matches&&($(".call-ico").attr("data-call-open","1"),OpenCall($(".call-ico")))}),$("body").on("click","#callmsg",function(){if(""!=$("#msgName").val()&&""!=$("#msgPhone").val()){data=new Object,data.name=$("#msgName").val(),data.phone=$("#msgPhone").val();var e="";e=JSON.stringify(data),$.ajax({type:"POST",url:"/call.php",data:e,success:function(e){CloseCall()}})}}),$("body").on("click",".plan-number-item",function(){$(this).toggleClass("checked"),$(".plan-map-1").show(),$(".plan-map-2").hide(),$(".plan-infr-item").attr("data-infr","1").removeClass("active-all"),1!=$(this).attr("data-item-check")?$(this).attr("data-item-check","1"):$(this).attr("data-item-check","0");var e,t=$(this).attr("data-number"),a=$(this).attr("data-type"),n=$('.plan-type-item[data-plan-type="'+a+'"]'),i=$('.plan-marker[data-number="'+t+'"]');1!=i.attr("data-visible")?i.addClass("active").attr("data-visible","1"):1==i.attr("data-visible")&&i.removeClass("active").attr("data-visible","0"),e=$('.plan-marker[data-visible="1"]').filter('[data-type="'+a+'"]'),1!=n.attr("data-check")&&e.length?n.addClass("active-not-all").attr("data-check","1"):1!=n.attr("data-check")||e.length||n.removeClass("active-not-all").attr("data-check","0"),e.length==$('.plan-number-item[data-type="'+a+'"]').length?(n.removeClass("active-not-all"),n.addClass("active-all")):e.length!=$('.plan-number-item[data-type="'+a+'"]').length&&e.length?(n.addClass("active-not-all"),n.removeClass("active-all")):e.length==$('.plan-number-item[data-type="'+a+'"]').length||e.length||(n.removeClass("active-not-all"),n.removeClass("active-all"))}),$("body").on("click",".plan-type-item",function(e){e.preventDefault(),$(".plan-map-1").show(),$(".plan-map-2").hide(),$(".plan-infr-item").attr("data-infr","1").removeClass("active-all"),$(this).toggleClass("active-all").removeClass("active-not-all");var t=$(this).attr("data-plan-type"),a=$('.plan-number-item[data-type="'+t+'"]'),n=$('.plan-marker[data-type="'+t+'"]');$('.plan-number-item[data-type="'+t+'"]').length!==$('.plan-number-item[data-type="'+t+'"]').filter('[data-item-check="1"]').length?(a.addClass("checked").attr("data-item-check","1"),n.addClass("active").attr("data-visible","1")):(a.removeClass("checked").attr("data-item-check","0"),n.removeClass("active").attr("data-visible","0"))}),$(".plan-settings").on("click",function(){$(".plan-scheme-container").addClass("show-settings")}),$(".plan-close").on("click",function(){$(".plan-scheme-container").removeClass("show-settings")});var plan_marker;$.ajax({dataType:"json",url:"json/plan-data.json",success:function(e){for(var t=0;e.length>t;t++)1==e[t].disp&&($(".plan-map-container").append('<div class="plan-marker" data-type="'+e[t].type+'" data-number="'+e[t].number+'" style="left:'+e[t].x+"%; top: "+e[t].y+'%;"><div class="marker-wrapper"><div class="marker-item"><span class="plan-marker-number">'+e[t].number+"</span></div></div></div>"),$(".plan-number").append('<div class="plan-number-item" data-type="'+e[t].type+'" data-number="'+e[t].number+'">'+e[t].number+"</div>"))}}),$(".btn-type-add").on("click",function(){$(".plan-number-item").addClass("checked").attr("data-item-check","1"),$(".plan-marker").addClass("active").attr("data-visible","1"),$(".plan-type-item").addClass("active-all").attr("data-check","1"),$(".plan-map-1").show(),$(".plan-map-2").hide(),$(".plan-infr-item").attr("data-infr","1").removeClass("active-all")}),$(".btn-type-clear").on("click",function(){$(".plan-number-item").removeClass("checked").attr("data-item-check","0"),$(".plan-marker").removeClass("active").attr("data-visible","0"),$(".plan-type-item").removeClass("active-all").attr("data-check","0"),$(".plan-type-item").removeClass("active-not-all").attr("data-check","0"),$(".plan-map-1").show(),$(".plan-map-2").hide(),$(".plan-infr-item").attr("data-infr","1").removeClass("active-all")}),$(".plan-infr-item").on("click",function(e){e.preventDefault(),1==$(this).attr("data-infr")?($(".plan-map-2").show(),$(".plan-map-1").hide(),$(this).attr("data-infr","0").addClass("active-all"),$(".plan-number-item").removeClass("checked").attr("data-item-check","0"),$(".plan-marker").removeClass("active").attr("data-visible","0"),$(".plan-type-item").removeClass("active-all").attr("data-check","0")):0==$(this).attr("data-infr")&&($(".plan-map-1").show(),$(".plan-map-2").hide(),$(this).attr("data-infr","1").removeClass("active-all")),$(".zoom-reset").click()}),function(){$(".plan-map-container").panzoom({$zoomIn:$(".zoom-in"),$zoomOut:$(".zoom-out"),$reset:$(".zoom-reset"),startTransform:"scale(1)",increment:.2,minScale:1,maxScale:2,contain:"invert"})}();var cur_scale=1;$(".zoom-in").on("click",function(){(cur_scale-=.15)>=.7&&$(".plan-marker").css("transform","scale("+cur_scale+")")}),$(".zoom-reset").on("click",function(){$(".plan-marker").css("transform","scale(1)"),cur_scale=1});var photo_th=$(".gallery-thumbs").find(".swiper-slide").length,photo_t=$(".gallery-top").find(".swiper-slide").length,galleryTop=new Swiper(".gallery-top",{preloadImages:!1,lazyLoading:!0,lazyLoadingInPrevNext:!0,loadPrevNextAmount:2,keyboardControl:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",spaceBetween:0,slidesPerView:1,breakpoints:{1259:{slidesPerView:1}}}),galleryThumbs=new Swiper(".gallery-thumbs",{spaceBetween:0,touchRatio:.2,slidesPerView:1,slideToClickedSlide:!0,breakpoints:{1259:{slidesPerView:1}}});galleryTop.params.control=galleryThumbs,galleryThumbs.params.control=galleryTop,$.fn.queueAddClass=function(e){return this.queue("fx",function(t){$(this).addClass(e),t()}),this},$.fn.queueRemoveClass=function(e){return this.queue("fx",function(t){$(this).removeClass(e),t()}),this};var menu_flag;$(".menu-btn-wrap").on("click",function(){menu_flag?(menu_flag=0,$(".menu-btn").queueRemoveClass("active-rotate"),$(".menu-btn__common-line").delay(80).queueRemoveClass("active-hide").delay(1).queueRemoveClass("active"),$(".menu-container").removeClass("menu-open"),$(".lang").removeClass("hide-for-menu"),$("html, body").removeClass("hidden-oflw")):(menu_flag=1,$(".menu-btn__common-line").addClass("active").delay(80).queueAddClass("active-hide"),$(".menu-btn").delay(80).queueAddClass("active-rotate"),$(".menu-container").addClass("menu-open"),$(".lang").addClass("hide-for-menu"),$("html, body").addClass("hidden-oflw"),$("html, body").animate({scrollTop:0},100,"swing"))}),$('.menu-link-item[href^="#"]').on("click.smoothscroll",function(e){e.preventDefault();var t=this.hash,a=$(t);menu_flag=0,$(".menu-btn").queueRemoveClass("active-rotate"),$(".menu-btn__common-line").delay(80).queueRemoveClass("active-hide").delay(1).queueRemoveClass("active"),$(".menu-container").removeClass("menu-open"),$(".lang").removeClass("hide-for-menu"),$("html, body").removeClass("hidden-oflw"),setTimeout(function(){$("html, body").animate({scrollTop:a.offset().top},500,"swing",function(){window.location.hash=t})},80)});